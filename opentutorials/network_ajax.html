<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
</head>
<body>
    <!--서버 환경이 구성되어 있어야 동작한다.-->
    <p>time : <span id="time"></span></p>
    <input type="button" id="execute" value="execute" />

    <script>
    //Ajax : Asynchronous JavaScript and XML의 약자. 실제로는 XML보다 json을 많이 씀
    document.querySelector('input').addEventListener('click', function(event){
        //객체 생성
        var xhr = new XMLHttpRequest();
        //접속 대상 지정. 인자는 form 태그의 method(보통 GET POST를 사용), action에 대응
        xhr.open('GET', './time.php');
        //서버와 통신이 끝났을 때 호출되는 이벤트
        xhr.onreadystatechange = function(){
            //4:통신완료, 200:통신성공
            if(xhr.readyState === 4 && xhr.status === 200){
                //responseText : 서버에서 받아온 text
                document.querySelector('#time').innerHTML = xhr.responseText;
            }
        }
        xhr.send(); 
    }); 
    </script> 
</body>
</html>